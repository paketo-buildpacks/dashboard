{"version":3,"sources":["serviceWorker.js","components/lib/private_route.js","components/header.js","components/login.js","models/repo.js","models/issue.js","lib/github_client.js","stores/issue_store.js","models/pull_request.js","stores/pull_request_store.js","models/release.js","stores/release_store.js","lib/cache.js","components/lib/external_link.js","components/repo_list/issue_count.js","components/repo_list/pull_request_count.js","components/repo_list/release_state.js","components/repo_list/repo_item.js","stores/repo_store.js","components/repo_list/index.js","components/issue_list/issue_item.js","components/issue_list/index.js","components/pull_request_list/pull_request_item.js","components/pull_request_list/index.js","components/index.js","index.js"],"names":["Boolean","window","location","hostname","match","PrivateRoute","root","process","path","this","props","render","authenticated","children","to","pathname","state","from","React","Component","Header","src","className","alt","Login","token","handleChange","bind","handleSubmit","event","input","currentTarget","setState","value","preventDefault","assignToken","history","replace","onSubmit","htmlFor","type","id","onChange","Repo","name","url","openIssuesCount","Issue","number","title","createdAt","DateTime","fromISO","commentCount","GitHubClient","storage","request","getItem","startsWith","fetch","method","headers","response","link","get","json","data","status","IssueStore","client","repo","issues","do","issue","pull_request","push","html_url","created_at","comments","PullRequest","PullRequestStore","pullRequests","pullRequest","Release","tag","commitsBehind","NullRelease","ReleaseStore","release","tagName","behindBy","Cache","key","_key","setItem","JSON","stringify","parse","ExternalLink","aria-label","href","target","rel","IssueCount","cacheKey","result","cache","i","length","load","previousProps","store","list","set","priority","count","size","PullRequestCount","pull_requests","ReleaseState","cachedRelease","releaseStore","latest","commitsClass","RepoItem","parts","split","org","issueStore","pullRequestStore","RepoStore","repos","full_name","open_issues_count","RepoList","loading","handleReload","interval","timer","setInterval","clearInterval","Promise","all","repoStore","results","sort","a","b","nameA","toUpperCase","nameB","items","map","onClick","IssueItem","createdAtRelative","toRelative","createdAtDate","toLocaleString","month","day","year","commentCountClass","IssueList","cachedRepos","cachedIssues","createdAtA","toMillis","createdAtB","reposByOrg","promises","orgRepos","promise","issuesByRepo","repoIssues","PullRequestItem","PullRequestList","cachedPullRequests","pullRequestsByRepo","repoPullRequests","pr","App","localStorage","gitHubClient","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b957a5f9.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\ntype Props = {|\n  children: Node,\n  authenticated: boolean,\n  path: string,\n|};\n\nexport default class PrivateRoute extends React.Component<Props> {\n  render(): Node {\n    let root = \"\";\n    if (process.env.PUBLIC_URL) {\n      root = process.env.PUBLIC_URL;\n    }\n\n    return (\n      <Route\n        path={this.props.path}\n        render={({ location }) =>\n          this.props.authenticated ? (this.props.children) : (\n            <Redirect to={ { pathname: `${root}/login`, state: { from: location } } } />\n          )\n        }\n      />\n    );\n  }\n}\n","// @flow\n\nimport React from 'react';\nimport type { Node } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../styles/header.css';\n\ntype Props = {||};\n\nclass Header extends React.Component<Props> {\n  render(): Node {\n    let root = '';\n    if (process.env.PUBLIC_URL) {\n      root = process.env.PUBLIC_URL;\n    }\n\n    return (\n      <header>\n        <h1>\n          <Link to={root}>\n            <img src={`${root}/logo512.png`} className=\"logo\" alt=\"logo\" />\n            Paketo Buildpacks\n          </Link>\n        </h1>\n        <div className=\"navigation\">\n          <h3>\n            <Link to={`${root}/issues`}>Issues</Link>\n          </h3>\n          <h3>\n            <Link to={`${root}/pull-requests`}>Pull Requests</Link>\n          </h3>\n        </div>\n      </header>\n    )\n  }\n}\n\nexport default Header;\n","// @flow\n\nimport React from 'react';\nimport type { Node } from 'react';\nimport '../styles/login.css';\n\ntype Props = {|\n  assignToken: string => void,\n  history: {\n    replace: { pathname: string } => void,\n  },\n  location: { state: { from: { pathname: string } } },\n|};\n\ntype State = {|\n  token: string,\n  from: { pathname: string },\n|};\n\nclass Login extends React.Component<Props, State> {\n  handleChange: SyntheticEvent<HTMLInputElement> => void;\n  handleSubmit: SyntheticEvent<HTMLFormElement> => void;\n\n  constructor(props: Props) {\n    super(props);\n\n    let root = '/';\n    if (process.env.PUBLIC_URL) {\n      root = process.env.PUBLIC_URL;\n    }\n\n    const { from } = this.props.location.state || { from: { pathname: root } };\n    this.state = { token: '', from: from };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event: SyntheticEvent<HTMLInputElement>): void {\n    const input = (event.currentTarget: HTMLInputElement);\n    this.setState({ token: input.value });\n  }\n\n  handleSubmit(event: SyntheticEvent<HTMLFormElement>): void {\n    event.preventDefault();\n\n    this.props.assignToken(this.state.token);\n    this.props.history.replace(this.state.from);\n  }\n\n  render(): Node {\n    return (\n      <form className=\"login\" onSubmit={this.handleSubmit}>\n        <label htmlFor=\"token\">GitHub Personal Access Token</label>\n        <input type=\"text\" id=\"token\" value={this.state.token} onChange={this.handleChange} />\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    );\n  }\n}\n\nexport default Login;\n","// @flow\n\ntype Props = {|\n  id: number,\n  name: string,\n  url: string,\n  openIssuesCount: number,\n|};\n\nclass Repo {\n  id: number;\n  name: string;\n  url: string;\n  openIssuesCount: number;\n\n  constructor(props: Props) {\n    this.id = props.id;\n    this.name = props.name;\n    this.url = props.url;\n    this.openIssuesCount = props.openIssuesCount;\n  }\n}\n\nexport default Repo;\n","// @flow\n\nimport { DateTime } from 'luxon';\n\ntype Props = {|\n  id: number,\n  number: number,\n  title: string,\n  url: string,\n  createdAt: string,\n  commentCount: number,\n|};\n\nexport default class Issue {\n  id: number;\n  number: number;\n  title: string;\n  url: string;\n  createdAt: DateTime;\n  commentCount: number;\n\n  constructor(props: Props) {\n    this.id = props.id;\n    this.number = props.number;\n    this.title = props.title;\n    this.url = props.url;\n    this.createdAt = DateTime.fromISO(props.createdAt);\n    this.commentCount = props.commentCount;\n  }\n}\n","// @flow\n\nimport { StorageInterface } from '../lib/storage';\n\nexport type GitHubClientRequest = {\n  method: string,\n  path: string,\n};\n\nexport type GitHubClientResponse = {\n  status: number,\n  data: any,\n  headers: {\n    link: ?string,\n  },\n};\n\ntype Props = {|\n  storage: StorageInterface,\n|};\n\nexport default class GitHubClient {\n  storage: StorageInterface;\n  worker: {\n    do: (token: ?string, method: string, path: string) => Promise<GitHubClientResponse>\n  };\n\n  constructor(props: Props) {\n    this.storage = props.storage;\n  }\n\n  async do(request: GitHubClientRequest): Promise<GitHubClientResponse> {\n    const token = this.storage.getItem('token') || '';\n\n    let url = request.path\n    if (url.startsWith('/')) {\n      url = `https://api.github.com${url}`;\n    }\n\n    const response = await fetch(url, {\n      method: request.method,\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n\n    const link = response.headers.get('Link');\n    const data = await response.json();\n\n    return {\n      status: response.status,\n      data: data,\n      headers: {\n        link: link,\n      },\n    };\n  }\n}\n\nexport interface GitHubClientInterface {\n  do(GitHubClientRequest): Promise<GitHubClientResponse>;\n};\n","// @flow\n\nimport Issue from '../models/issue';\nimport { GitHubClientInterface, type GitHubClientResponse } from '../lib/github_client';\n\ntype Props = {|\n  client: GitHubClientInterface,\n|};\n\nexport default class IssueStore {\n  client: GitHubClientInterface;\n\n  constructor(props: Props) {\n    this.client = props.client;\n  }\n\n  async list(repo: string): Promise<Issue[]> {\n    let path: string = `/repos/${repo}/issues`;\n    let issues: Issue[] = [];\n\n    while (path) {\n      const response: GitHubClientResponse = await this.client.do({\n        method: 'GET',\n        path: path,\n      });\n\n      for (const issue of response.data) {\n        if (!issue.pull_request) {\n          issues.push(new Issue({\n            id: issue.id,\n            number: issue.number,\n            title: issue.title,\n            url: issue.html_url,\n            createdAt: issue.created_at,\n            commentCount: issue.comments,\n          }));\n        }\n      }\n\n      path = ((response.headers.link || \"\").match( /<([^>]+)>;\\s*rel=\"next\"/) || [])[1];\n    }\n\n    return issues;\n  }\n};\n\nexport interface IssueStoreInterface {\n  list(repo: string): Promise<Issue[]>;\n};\n","// @flow\n\nimport { DateTime } from 'luxon';\n\ntype Props = {|\n  id: number,\n  number: number,\n  title: string,\n  createdAt: string,\n  url: string,\n|};\n\nexport default class PullRequest {\n  id: number;\n  number: number;\n  title: string;\n  createdAt: DateTime;\n  url: string;\n\n  constructor(props: Props) {\n    this.id = props.id;\n    this.number = props.number;\n    this.title = props.title;\n    this.createdAt = DateTime.fromISO(props.createdAt);\n    this.url = props.url;\n  }\n}\n","// @flow\n\nimport PullRequest from '../models/pull_request';\nimport { GitHubClientInterface, type GitHubClientResponse } from '../lib/github_client';\n\ntype Props = {|\n  client: GitHubClientInterface,\n|};\n\nexport default class PullRequestStore {\n  client: GitHubClientInterface;\n\n  constructor(props: Props) {\n    this.client = props.client;\n  }\n\n  async list(repo: string): Promise<PullRequest[]> {\n    let path: string = `/repos/${repo}/pulls`;\n    let pullRequests: PullRequest[] = [];\n\n    while (path) {\n      const response: GitHubClientResponse = await this.client.do({\n        method: 'GET',\n        path: path,\n      });\n\n      for (const pullRequest of response.data) {\n        pullRequests.push(new PullRequest({\n          id: pullRequest.id,\n          number: pullRequest.number,\n          title: pullRequest.title,\n          createdAt: pullRequest.created_at,\n          url: pullRequest.html_url,\n        }));\n      }\n\n      path = ((response.headers.link || \"\").match( /<([^>]+)>;\\s*rel=\"next\"/) || [])[1];\n    }\n\n    return pullRequests;\n  }\n};\n\nexport interface PullRequestStoreInterface {\n  list(repo: string): Promise<PullRequest[]>;\n};\n","// @flow\n\ntype Props = {|\n  tag: string,\n  commitsBehind: number,\n|};\n\nexport default class Release {\n  tag: string;\n  commitsBehind: number;\n\n  constructor(props: Props) {\n    this.tag = props.tag;\n    this.commitsBehind = props.commitsBehind;\n  }\n}\n\nexport const NullRelease: Release = new Release({\n  tag: '—',\n  commitsBehind: 0,\n});\n","// @flow\n\nimport Release, { NullRelease } from '../models/release';\nimport { GitHubClientInterface, type GitHubClientResponse } from '../lib/github_client';\n\ntype Props = {|\n  client: GitHubClientInterface,\n|};\n\nexport default class ReleaseStore {\n  client: GitHubClientInterface;\n\n  constructor(props: Props) {\n    this.client = props.client;\n  }\n\n  async latest(repo: string): Promise<Release> {\n    let response: GitHubClientResponse = await this.client.do({\n      method: 'GET',\n      path: `/repos/${repo}/releases/latest`,\n    });\n\n    let release = NullRelease;\n    if (response.status === 200) {\n      const tagName = (response.data: { [string]: any })['tag_name'];\n\n      response = await this.client.do({\n        method: 'GET',\n        path: `/repos/${repo}/compare/main...${tagName}`,\n      });\n\n      const behindBy = (response.data: { [string]: any })['behind_by'];\n\n      release = new Release({\n        tag: tagName,\n        commitsBehind: behindBy,\n      });\n    }\n\n    return release;\n  }\n}\n\nexport interface ReleaseStoreInterface {\n  latest(repo: string): Promise<Release>;\n}\n","// @flow\n\nimport { StorageInterface } from './storage';\n\ntype Props = {|\n  storage: StorageInterface,\n|};\n\nexport default class Cache {\n  props: Props;\n\n  constructor(props: Props) {\n    this.props = props;\n  }\n\n  set(key: string, value: { [key: string]: any}): void {\n    key = this._key(key);\n\n    this.props.storage.setItem(key, JSON.stringify(value));\n  }\n\n  get(key: string): { [key: string]: any} {\n    key = this._key(key);\n\n    const value = this.props.storage.getItem(key);\n\n    if (!value) {\n      return {};\n    }\n\n    return JSON.parse(value);\n  }\n\n  _key(key: string): string {\n    key = key.replace(/^(\\/)/,\"\");\n    return `/cache/${key}`;\n  }\n}\n\nexport interface CacheInterface {\n  get(key: string): { [key: string]: any};\n  set(key: string, value: { [key: string]: any}): void;\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\ntype Props = {|\n  href: string,\n  children: Node,\n\n  className?: string,\n  'aria-label'?: string,\n|};\n\nexport default class ExternalLink extends React.Component<Props> {\n  render(): Node {\n    return (\n      <a\n        className={this.props.className}\n        aria-label={this.props['aria-label']}\n        href={this.props.href}\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        {this.props.children}\n      </a>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport Issue from '../../models/issue';\nimport Repo from '../../models/repo';\nimport { IssueStoreInterface } from '../../stores/issue_store';\nimport { CacheInterface } from '../../lib/cache';\nimport { IssueOpenedIcon } from '@primer/octicons-react';\n\nimport ExternalLink from '../lib/external_link';\n\nimport '../../styles/repo_list/issue_count.css';\n\ntype Props = {|\n  repo: Repo,\n  cache: CacheInterface,\n  store: IssueStoreInterface,\n|};\n\ntype State = {|\n  issues: Issue[],\n|};\n\nexport default class IssueCount extends React.Component<Props, State> {\n  cacheKey: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.cacheKey = `/repos/${props.repo.name}/issues`;\n\n    let issues: Issue[] = [];\n    const result = this.props.cache.get(this.cacheKey);\n\n    if (result['issues']) {\n      for (let i = 0; i < result['issues'].length; i++) {\n        issues.push(new Issue(result['issues'][i]));\n      }\n    }\n\n    this.state = {\n      issues: issues,\n    };\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  componentDidUpdate(previousProps: Props) {\n    if (this.props.repo.openIssuesCount !== previousProps.repo.openIssuesCount) {\n      this.load();\n    }\n  }\n\n  async load() {\n    const issues = await this.props.store.list(this.props.repo.name)\n\n    this.props.cache.set(this.cacheKey, { issues: issues });\n    this.setState({ issues: issues });\n  }\n\n  render(): Node {\n    let priority: string = 'none';\n    const count = this.state.issues.length;\n\n    if (count > 0) {\n      priority = 'low';\n    }\n\n    if (count > 3) {\n      priority = 'medium';\n    }\n\n    if (count > 6) {\n      priority = 'high';\n    }\n\n    return (\n      <ExternalLink\n        className={`issue-count ${priority}`}\n        href={`${this.props.repo.url}/issues`}\n        aria-label='issue-count'\n      >\n        <IssueOpenedIcon size={16} />\n        <div className='count'>{count}</div>\n      </ExternalLink>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport PullRequest from '../../models/pull_request';\nimport Repo from '../../models/repo';\nimport { PullRequestStoreInterface } from '../../stores/pull_request_store';\nimport { CacheInterface } from '../../lib/cache';\n\nimport ExternalLink from '../lib/external_link';\nimport { GitPullRequestIcon } from '@primer/octicons-react';\n\nimport '../../styles/repo_list/pull_request_count.css';\n\ntype Props = {|\n  repo: Repo,\n  cache: CacheInterface,\n  store: PullRequestStoreInterface,\n|};\n\ntype State = {|\n  pullRequests: PullRequest[],\n|};\n\nexport default class PullRequestCount extends React.Component<Props, State> {\n  cacheKey: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.cacheKey = `/repos/${props.repo.name}/pull_requests`;\n\n    let pullRequests: PullRequest[] = [];\n    const result = this.props.cache.get(this.cacheKey);\n\n    if (result['pull_requests']) {\n      for (let i = 0; i < result['pull_requests'].length; i++) {\n        pullRequests.push(new PullRequest(result['pull_requests'][i]));\n      }\n    }\n\n    this.state = {\n      pullRequests: pullRequests,\n    };\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  componentDidUpdate(previousProps: Props) {\n    if (this.props.repo.openIssuesCount !== previousProps.repo.openIssuesCount) {\n      this.load();\n    }\n  }\n\n  async load() {\n    const pullRequests = await this.props.store.list(this.props.repo.name)\n\n    this.props.cache.set(this.cacheKey, { pull_requests: pullRequests });\n    this.setState({ pullRequests: pullRequests });\n  }\n\n  render(): Node {\n    let priority: string = 'none';\n    const count = this.state.pullRequests.length;\n\n    if (count > 0 ) {\n      priority = 'low';\n    }\n\n    if (count > 3 ) {\n      priority = 'medium';\n    }\n\n    if (count > 6 ) {\n      priority = 'high';\n    }\n\n    return (\n      <ExternalLink\n        href={`${this.props.repo.url}/pulls`}\n        className={`pull-request-count ${priority}`}\n        aria-label='pull-request-count'\n      >\n        <GitPullRequestIcon size={16} />\n        <div className='count'>{count}</div>\n      </ExternalLink>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport Repo from '../../models/repo';\nimport Release, { NullRelease } from '../../models/release';\nimport { ReleaseStoreInterface } from '../../stores/release_store';\nimport { CacheInterface } from '../../lib/cache';\n\nimport ExternalLink from '../lib/external_link';\nimport { GitCommitIcon } from '@primer/octicons-react';\n\nimport '../../styles/repo_list/release_state.css';\n\ntype Props = {|\n  repo: Repo,\n  releaseStore: ReleaseStoreInterface,\n  cache: CacheInterface,\n|};\n\ntype State = {|\n  release: Release,\n|}\n\nexport default class ReleaseState extends React.Component<Props, State> {\n  cacheKey: string;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.cacheKey = `/repos/${this.props.repo.name}/releases/latest`;\n\n    let release: Release = NullRelease;\n    const cachedRelease = this.props.cache.get(this.cacheKey);\n    if (cachedRelease['release']) {\n      release = new Release(cachedRelease['release']);\n    }\n\n    this.state = {\n      release: release,\n    };\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  async load() {\n    const release = await this.props.releaseStore.latest(this.props.repo.name);\n\n    this.props.cache.set(this.cacheKey, { release: release });\n    this.setState({ release: release });\n  }\n\n  render(): Node {\n    let commitsClass = 'commits-behind';\n\n    if (this.state.release.commitsBehind > 0) {\n      commitsClass += ' behind';\n    }\n\n    return (\n      <ExternalLink\n        className='release-state'\n        href={`${this.props.repo.url}/releases`}\n        aria-label='release-state'\n      >\n        <div className='tag' aria-label='tag'>\n          {this.state.release.tag}\n        </div>\n        <div className={commitsClass} aria-label='commits-behind'>\n          {this.state.release.commitsBehind}\n          <GitCommitIcon size={16} />\n        </div>\n      </ExternalLink>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport Repo from '../../models/repo';\nimport { IssueStoreInterface } from '../../stores/issue_store';\nimport { PullRequestStoreInterface } from '../../stores/pull_request_store';\nimport { ReleaseStoreInterface } from '../../stores/release_store';\nimport { CacheInterface } from '../../lib/cache';\n\nimport IssueCount from './issue_count';\nimport PullRequestCount from './pull_request_count';\nimport ReleaseState from './release_state';\nimport ExternalLink from '../lib/external_link';\n\nimport '../../styles/repo_list/repo_item.css';\n\ntype Props = {|\n  repo: Repo,\n  issueStore: IssueStoreInterface,\n  pullRequestStore: PullRequestStoreInterface,\n  releaseStore: ReleaseStoreInterface,\n  cache: CacheInterface,\n|};\n\nexport default class RepoItem extends React.Component<Props> {\n  render(): Node {\n    const parts = this.props.repo.name.split('/');\n\n    const org = parts[0];\n    const repo = parts[1];\n\n    return (\n      <div className='repo-item'>\n        <div className='org'>{org}</div>\n        <ExternalLink href={this.props.repo.url} className='repo'>\n          {repo}\n        </ExternalLink>\n        <div className='issue-pull-request-count'>\n          <IssueCount\n            repo={this.props.repo}\n            store={this.props.issueStore}\n            cache={this.props.cache}\n          />\n          <PullRequestCount\n            repo={this.props.repo}\n            store={this.props.pullRequestStore}\n            cache={this.props.cache}\n          />\n        </div>\n        <ReleaseState\n          repo={this.props.repo}\n          releaseStore={this.props.releaseStore}\n          cache={this.props.cache}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport Repo from '../models/repo';\nimport { GitHubClientInterface, type GitHubClientResponse } from '../lib/github_client';\n\ntype Props = {|\n  client: GitHubClientInterface,\n|};\n\nexport default class RepoStore {\n  props: Props;\n\n  constructor(props: Props) {\n    this.props = props;\n  }\n\n  async list(org: string): Promise<Repo[]> {\n    let repos: Repo[] = [];\n    let path: string = `/orgs/${org}/repos`;\n\n    while (path) {\n      const response: GitHubClientResponse = await this.props.client.do({\n        method: 'GET',\n        path: path\n      });\n\n      for (const repo of response.data) {\n        repos.push(new Repo({\n          id: repo.id,\n          name: repo.full_name,\n          url: repo.html_url,\n          openIssuesCount: repo.open_issues_count,\n        }));\n      }\n\n      path = ((response.headers.link || \"\").match( /<([^>]+)>;\\s*rel=\"next\"/) || [])[1];\n    }\n\n    return repos;\n  }\n}\n\nexport interface RepoStoreInterface {\n  list(org: string): Promise<Repo[]>;\n};\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport Repo from '../../models/repo';\nimport RepoItem from './repo_item';\n\nimport { IssueStoreInterface } from '../../stores/issue_store';\nimport { RepoStoreInterface } from '../../stores/repo_store';\nimport { PullRequestStoreInterface } from '../../stores/pull_request_store';\nimport { ReleaseStoreInterface } from '../../stores/release_store';\nimport { TimerInterface } from '../../lib/timer';\nimport { CacheInterface } from '../../lib/cache';\n\nimport { SyncIcon } from '@primer/octicons-react';\n\nimport '../../styles/repo_list/index.css';\n\ntype Props = {|\n  repoStore: RepoStoreInterface,\n  issueStore: IssueStoreInterface,\n  pullRequestStore: PullRequestStoreInterface,\n  releaseStore: ReleaseStoreInterface,\n  timer: TimerInterface,\n  cache: CacheInterface,\n|};\n\ntype State = {|\n  loading: boolean,\n  repos: Repo[],\n|};\n\nexport default class RepoList extends React.Component<Props, State> {\n  handleReload: SyntheticEvent<HTMLButtonElement> => void;\n  interval: number;\n  cacheKey: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.cacheKey = '/repos';\n\n    let repos: Repo[] = [];\n    const result = this.props.cache.get(this.cacheKey);\n\n    if (result['repos']) {\n      for (let i = 0; i < result['repos'].length; i++) {\n        repos.push(new Repo(result['repos'][i]));\n      }\n    }\n\n    this.state = {\n      loading: repos.length === 0,\n      repos: repos,\n    };\n\n    this.handleReload = this.handleReload.bind(this);\n  }\n\n  componentDidMount() {\n    this.load();\n    this.interval = this.props.timer.setInterval(this.load.bind(this), 900000);\n  }\n\n  componentWillUnmount() {\n    this.props.timer.clearInterval(this.interval);\n  }\n\n  handleReload(event: SyntheticEvent<HTMLButtonElement>): void {\n    this.load();\n  }\n\n  async load() {\n    const results = await Promise.all([\n      this.props.repoStore.list('paketo-buildpacks'),\n      this.props.repoStore.list('paketo-community'),\n    ]);\n\n    let repos: Repo[] = [];\n\n    for (const result of results) {\n      for (const repo of result) {\n        repos.push(repo);\n      }\n    }\n\n    repos.sort((a: Repo, b: Repo): number => {\n      const nameA = a.name.toUpperCase();\n      const nameB = b.name.toUpperCase();\n\n      if (nameA < nameB) {\n        return -1;\n      }\n\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.props.cache.set(this.cacheKey, { repos: repos });\n    this.setState({ loading: false, repos: repos });\n  }\n\n  render(): Node {\n    let items = (<div className='loading'>...</div>);\n\n    if (!this.state.loading) {\n      items = this.state.repos.map((repo) => (\n        <RepoItem\n          key={repo.id}\n          repo={repo}\n          issueStore={this.props.issueStore}\n          pullRequestStore={this.props.pullRequestStore}\n          releaseStore={this.props.releaseStore}\n          cache={this.props.cache}\n        />\n      ));\n    }\n\n    return (\n      <div className='repo-list'>\n        <div className='title'>\n          <h2>Overview</h2>\n          <button onClick={this.handleReload}>\n            <SyncIcon size={16} />\n          </button>\n        </div>\n        <div className='list'>\n          {items}\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport Issue from '../../models/issue';\nimport Repo from '../../models/repo';\n\nimport ExternalLink from '../lib/external_link';\nimport { CommentIcon } from '@primer/octicons-react';\n\nimport '../../styles/issue_list/issue_item.css';\n\ntype Props = {|\n  issue: Issue,\n  repo: Repo,\n|};\n\nexport default class IssueItem extends React.Component<Props> {\n  render(): Node {\n    const createdAtRelative = this.props.issue.createdAt.toRelative();\n    const createdAtDate = this.props.issue.createdAt.toLocaleString({ month: 'short', day: 'numeric', year: 'numeric' });\n\n    let commentCountClass = 'comment-count'\n    if (this.props.issue.commentCount === 0) {\n      commentCountClass += ' none';\n    }\n\n    return (\n      <div className='issue-item'>\n        <ExternalLink className='repo' href={this.props.repo.url} >\n          {this.props.repo.name}\n        </ExternalLink>\n        <div className='content'>\n          <div className='identifier'>\n            <div className='number'>#{this.props.issue.number}</div>\n            <ExternalLink className='title' href={this.props.issue.url} >\n              {this.props.issue.title}\n            </ExternalLink>\n          </div>\n          <div className={commentCountClass} aria-label='comment-count'>\n            <div className='count'>{this.props.issue.commentCount}</div>\n            <CommentIcon size={16} />\n          </div>\n        </div>\n        <div className='created-at'>opened {createdAtRelative} ({createdAtDate})</div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport { RepoStoreInterface } from '../../stores/repo_store';\nimport { IssueStoreInterface } from '../../stores/issue_store';\nimport { CacheInterface } from '../../lib/cache';\n\nimport Repo from '../../models/repo';\nimport Issue from '../../models/issue';\n\nimport IssueItem from './issue_item';\n\nimport '../../styles/issue_list/index.css';\n\ntype RepoIssue = {|\n  repo: Repo,\n  issue: Issue,\n|};\n\ntype Props = {|\n  repoStore: RepoStoreInterface,\n  issueStore: IssueStoreInterface,\n  cache: CacheInterface,\n|};\n\ntype State = {|\n  loading: boolean,\n  issues: RepoIssue[],\n|}\n\nexport default class IssueList extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    const issues: RepoIssue[] = [];\n    const cachedRepos = this.props.cache.get('/repos');\n\n    if (cachedRepos['repos']) {\n      for (let repo of cachedRepos['repos']) {\n        const cachedIssues = this.props.cache.get(`/repos/${repo.name}/issues`);\n        if (cachedIssues['issues']) {\n          for (let issue of cachedIssues['issues']) {\n            issues.push({\n              repo: repo,\n              issue: new Issue(issue),\n            });\n          }\n        }\n      }\n    }\n\n    issues.sort((a: RepoIssue, b: RepoIssue): number => {\n      const createdAtA = a.issue.createdAt.toMillis();\n      const createdAtB = b.issue.createdAt.toMillis();\n\n      if (createdAtA < createdAtB) {\n        return -1;\n      }\n\n      if (createdAtA > createdAtB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.state = {\n      loading: issues.length === 0,\n      issues: issues,\n    };\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  async load() {\n    const reposByOrg = await Promise.all([\n      this.props.repoStore.list('paketo-buildpacks'),\n      this.props.repoStore.list('paketo-community'),\n    ]);\n\n    const repos: Repo[] = [];\n    const promises: Promise<Issue[]>[] = [];\n\n    for (let orgRepos: Repo[] of reposByOrg) {\n      for (let repo: Repo of orgRepos) {\n        repos.push(repo);\n\n        const promise = this.props.issueStore.list(repo.name);\n        promises.push(promise);\n      }\n    }\n\n    const issuesByRepo = await Promise.all(promises);\n    const issues: RepoIssue[] = [];\n\n    for (let i = 0; i < issuesByRepo.length; i++) {\n      const repoIssues: Issue[] = issuesByRepo[i];\n      const repo: Repo = repos[i];\n\n      this.props.cache.set(`/repos/${repo.name}/issues`, { issues: repoIssues });\n\n      for (let issue: Issue of repoIssues) {\n        issues.push({\n          repo: repo,\n          issue: issue,\n        });\n      }\n    }\n\n    repos.sort((a: Repo, b: Repo): number => {\n      const nameA = a.name.toUpperCase();\n      const nameB = b.name.toUpperCase();\n\n      if (nameA < nameB) {\n        return -1;\n      }\n\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.props.cache.set('/repos', { repos: repos });\n\n    issues.sort((a: RepoIssue, b: RepoIssue): number => {\n      const createdAtA = a.issue.createdAt.toMillis();\n      const createdAtB = b.issue.createdAt.toMillis();\n\n      if (createdAtA < createdAtB) {\n        return -1;\n      }\n\n      if (createdAtA > createdAtB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.setState({ loading: false, issues: issues });\n  }\n\n  render(): Node {\n    let items: Node = (<div className='loading'>...</div>);\n\n    if (!this.state.loading) {\n      items = this.state.issues.map(i => (\n        <IssueItem\n          key={i.issue.id}\n          issue={i.issue}\n          repo={i.repo}\n        />\n      ));\n    }\n\n    return (\n      <div className='issue-list'>\n        <div className='title'>\n          <h2>Open Issues</h2>\n          <div className='count'>({this.state.issues.length})</div>\n        </div>\n        <div className='list'>\n          {items}\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport PullRequest from '../../models/pull_request';\nimport Repo from '../../models/repo';\n\nimport ExternalLink from '../lib/external_link';\n\nimport '../../styles/pull_request_list/pull_request_item.css';\n\ntype Props = {|\n  pullRequest: PullRequest,\n  repo: Repo,\n|};\n\nexport default class PullRequestItem extends React.Component<Props> {\n  render(): Node {\n    const createdAtRelative = this.props.pullRequest.createdAt.toRelative();\n    const createdAtDate = this.props.pullRequest.createdAt.toLocaleString({ month: 'short', day: 'numeric', year: 'numeric' });\n\n    return (\n      <div className='pull-request-item'>\n        <ExternalLink className='repo' href={this.props.repo.url} >\n          {this.props.repo.name}\n        </ExternalLink>\n        <div className='content'>\n          <div className='identifier'>\n            <div className='number'>#{this.props.pullRequest.number}</div>\n            <ExternalLink className='title' href={this.props.pullRequest.url} >\n              {this.props.pullRequest.title}\n            </ExternalLink>\n          </div>\n        </div>\n        <div className='created-at'>opened {createdAtRelative} ({createdAtDate})</div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, { type Node } from 'react';\n\nimport { CacheInterface } from '../../lib/cache';\nimport { RepoStoreInterface } from '../../stores/repo_store';\nimport { PullRequestStoreInterface } from '../../stores/pull_request_store';\n\nimport Repo from '../../models/repo';\nimport PullRequest from '../../models/pull_request';\n\nimport PullRequestItem from './pull_request_item';\n\nimport '../../styles/pull_request_list/index.css';\n\ntype RepoPullRequest = {|\n  repo: Repo,\n  pullRequest: PullRequest,\n|};\n\ntype Props = {|\n  cache: CacheInterface,\n  repoStore: RepoStoreInterface,\n  pullRequestStore: PullRequestStoreInterface,\n|};\n\ntype State = {|\n  loading: boolean,\n  pullRequests: RepoPullRequest[],\n|};\n\nexport default class PullRequestList extends React.Component<Props,State> {\n  constructor(props: Props) {\n    super(props);\n\n    const pullRequests: RepoPullRequest[] = [];\n    const cachedRepos = this.props.cache.get('/repos');\n\n    if (cachedRepos['repos']) {\n      for (let repo of cachedRepos['repos']) {\n        const cachedPullRequests = this.props.cache.get(`/repos/${repo.name}/pull_requests`);\n        if (cachedPullRequests['pull_requests']) {\n          for (let pullRequest of cachedPullRequests['pull_requests']) {\n            pullRequests.push({\n              repo: repo,\n              pullRequest: new PullRequest(pullRequest),\n            });\n          }\n        }\n      }\n    }\n\n    pullRequests.sort((a: RepoPullRequest, b: RepoPullRequest): number => {\n      const createdAtA = a.pullRequest.createdAt.toMillis();\n      const createdAtB = b.pullRequest.createdAt.toMillis();\n\n      if (createdAtA < createdAtB) {\n        return -1;\n      }\n\n      if (createdAtA > createdAtB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.state = {\n      loading: pullRequests.length === 0,\n      pullRequests: pullRequests,\n    }\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  async load() {\n    const reposByOrg = await Promise.all([\n      this.props.repoStore.list('paketo-buildpacks'),\n      this.props.repoStore.list('paketo-community'),\n    ]);\n\n    const repos: Repo[] = [];\n    const promises: Promise<PullRequest[]>[] = [];\n\n    for (let orgRepos: Repo[] of reposByOrg) {\n      for (let repo: Repo of orgRepos) {\n        repos.push(repo);\n\n        const promise = this.props.pullRequestStore.list(repo.name);\n        promises.push(promise);\n      }\n    }\n\n    const pullRequestsByRepo = await Promise.all(promises);\n    const pullRequests: RepoPullRequest[] = [];\n\n    for (let i = 0; i < pullRequestsByRepo.length; i++) {\n      const repoPullRequests: PullRequest[] = pullRequestsByRepo[i];\n      const repo: Repo = repos[i];\n\n      this.props.cache.set(`/repos/${repo.name}/pull_requests`, { pull_requests: repoPullRequests });\n\n      for (let pullRequest: PullRequest of repoPullRequests) {\n        pullRequests.push({\n          repo: repo,\n          pullRequest: pullRequest,\n        });\n      }\n    }\n\n    repos.sort((a: Repo, b: Repo): number => {\n      const nameA = a.name.toUpperCase();\n      const nameB = b.name.toUpperCase();\n\n      if (nameA < nameB) {\n        return -1;\n      }\n\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.props.cache.set('/repos', { repos: repos });\n\n    pullRequests.sort((a: RepoPullRequest, b: RepoPullRequest): number => {\n      const createdAtA = a.pullRequest.createdAt.toMillis();\n      const createdAtB = b.pullRequest.createdAt.toMillis();\n\n      if (createdAtA < createdAtB) {\n        return -1;\n      }\n\n      if (createdAtA > createdAtB) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    this.setState({ loading: false, pullRequests: pullRequests });\n  }\n\n  render(): Node {\n    let items: Node = (<div className='loading'>...</div>);\n\n    if (!this.state.loading) {\n      items = this.state.pullRequests.map(pr => (\n        <PullRequestItem\n          key={pr.pullRequest.id}\n          pullRequest={pr.pullRequest}\n          repo={pr.repo}\n        />\n      ));\n    }\n\n    return (\n      <div className='pull-request-list'>\n        <div className='title'>\n          <h2> Open Pull Requests</h2>\n          <div className='count'>({this.state.pullRequests.length})</div>\n        </div>\n        <div className='list'>\n          {items}\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React from 'react';\nimport type { Node } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport PrivateRoute from './lib/private_route';\n\nimport '../styles/app.css';\n\nimport Header from './header';\nimport Login from './login';\nimport RepoList from './repo_list';\nimport IssueList from './issue_list';\nimport PullRequestList from './pull_request_list';\n\nimport { RepoStoreInterface } from '../stores/repo_store';\nimport { IssueStoreInterface } from '../stores/issue_store';\nimport { PullRequestStoreInterface } from '../stores/pull_request_store';\nimport { ReleaseStoreInterface } from '../stores/release_store';\nimport { TimerInterface } from '../lib/timer';\nimport { CacheInterface } from '../lib/cache';\nimport { StorageInterface } from '../lib/storage';\n\ntype Props = {|\n  repoStore: RepoStoreInterface,\n  issueStore: IssueStoreInterface,\n  pullRequestStore: PullRequestStoreInterface,\n  releaseStore: ReleaseStoreInterface,\n  timer: TimerInterface,\n  cache: CacheInterface,\n  storage: StorageInterface,\n|};\n\ntype State = {|\n  authenticated: boolean,\n|};\n\nclass App extends React.Component<Props, State> {\n  assignToken: string => void;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = { authenticated: !!this.props.storage.getItem('token') };\n\n    this.assignToken = this.assignToken.bind(this);\n  }\n\n  assignToken(token: string): void {\n    this.props.storage.setItem('token', token);\n    this.setState({ authenticated: !!this.props.storage.getItem('token') });\n  }\n\n  render(): Node {\n    let root = '';\n    if (process.env.PUBLIC_URL) {\n      root = process.env.PUBLIC_URL;\n    }\n\n    return (\n      <div className=\"app\">\n        <Header />\n        <section className=\"body\">\n          <Switch>\n\n            <Route path={`${root}/login`} render={({ history, location }) =>\n              <Login\n                assignToken={this.assignToken}\n                history={history}\n                location={location}\n              />}\n            />\n\n            <PrivateRoute path={`${root}/issues`} authenticated={this.state.authenticated}>\n              <IssueList\n                cache={this.props.cache}\n                repoStore={this.props.repoStore}\n                issueStore={this.props.issueStore}\n              />\n            </PrivateRoute>\n\n            <PrivateRoute path={`${root}/pull-requests`} authenticated={this.state.authenticated}>\n              <PullRequestList\n                cache={this.props.cache}\n                repoStore={this.props.repoStore}\n                pullRequestStore={this.props.pullRequestStore}\n              />\n            </PrivateRoute>\n\n            <PrivateRoute path={`${root}/`} authenticated={this.state.authenticated}>\n              <RepoList\n                repoStore={this.props.repoStore}\n                issueStore={this.props.issueStore}\n                pullRequestStore={this.props.pullRequestStore}\n                releaseStore={this.props.releaseStore}\n                timer={this.props.timer}\n                cache={this.props.cache}\n              />\n            </PrivateRoute>\n\n          </Switch>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// @flow\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './components';\n\nimport GitHubClient from './lib/github_client';\nimport RepoStore from './stores/repo_store';\nimport IssueStore from './stores/issue_store';\nimport PullRequestStore from './stores/pull_request_store';\nimport ReleaseStore from './stores/release_store';\nimport Cache from './lib/cache';\n\nconst storage = window.localStorage;\nconst timer = window;\nconst cache = new Cache({ storage: storage });\n\nconst gitHubClient = new GitHubClient({ storage: storage });\nconst repoStore = new RepoStore({ client: gitHubClient });\nconst issueStore = new IssueStore({ client: gitHubClient });\nconst pullRequestStore = new PullRequestStore({ client: gitHubClient });\nconst releaseStore = new ReleaseStore({ client: gitHubClient });\n\nReactDOM.render(\n  <BrowserRouter>\n    <App\n      repoStore={repoStore}\n      issueStore={issueStore}\n      pullRequestStore={pullRequestStore}\n      releaseStore={releaseStore}\n      timer={timer}\n      cache={cache}\n      storage={storage}\n    />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}